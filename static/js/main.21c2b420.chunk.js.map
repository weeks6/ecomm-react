{"version":3,"sources":["store/store.ts","img/logo_white.svg","img/book_cover_placeholder.png","components/MenuItem.tsx","components/CatalogMenu.tsx","components/Popup.tsx","utils/Auth.ts","components/Auth/SignIn.tsx","components/Header.tsx","img/banner_large.png","img/banner.png","img/arrow_icon.png","components/Card.tsx","components/Section.tsx","pages/Main.tsx","components/NotFound.tsx","pages/Category.tsx","components/Book/Rating.tsx","components/Book/ReviewCard.tsx","components/Book/Reviews.tsx","components/Recommends.tsx","pages/Book.tsx","components/Cart/ProductCard.tsx","pages/Cart.tsx","components/Order/OrderCard.tsx","utils/Month.ts","utils/StatusString.ts","pages/Profile.tsx","pages/Order.tsx","components/Content.tsx","utils/hooks/useScrollPosition.ts","utils/Debounce.ts","components/Fab.tsx","components/UpButton.tsx","components/Letter.tsx","components/Footer.tsx","App.tsx","index.tsx"],"names":["Status","newCategory","id","title","haloCategory","meCategory","reviews","userId","content","rating","books","counter","index","push","author","cover","price","description","category","users","avatar","cart","email","name","orders","date","Date","status","BEING_DELIVERED","DELIVERED","favourites","useBooks","create","useAuth","set","user","setUser","useReviews","useUsers","recommendations","useCart","addItem","book","amount","state","existingBook","find","v","editItem","value","bookToEdit","findIndex","slice","length","removeItem","filter","MenuItem","items","className","map","link","to","url","text","CatalogMenu","open","handleMenu","useState","isOpen","setIsOpen","useEffect","categories","Set","menuSection","Array","from","onClick","Popup","handlePopup","children","isOpened","setIsOpened","_handlePopup","STORAGE_KEY","signIn","a","Promise","resolve","reject","fakeUser","setTimeout","token","localStorage","setItem","SignIn","handleSubmit","valid","validityMessage","password","formData","setFormData","isValid","setIsValid","isLoading","setIsLoading","handleInputChange","evt","target","validity","validationMessage","emailRef","useRef","passwordRef","timeout","current","clearTimeout","onSubmit","preventDefault","then","res","forEach","catch","err","console","log","onChange","type","autoComplete","required","ref","htmlFor","disabled","Header","isCatalogMenuOpened","setIsCatalogMenuOpened","isSigninPopupOpened","setIsSigninPopupOpened","onOpenChange","onSigninPopupChange","location","useLocation","src","LogoImage","alt","tabIndex","activeClassName","replace","style","backgroundImage","pathname","Card","Intl","NumberFormat","currency","format","Section","Main","Arrow","BannerLarge","Banner","categoryBooks","NotFound","CategoryComponent","useParams","parseInt","bookSample","Rating","ReviewCard","review","Reviews","Recommends","recommends","Book","ProductCard","onAmountChange","Cart","handleAmountChange","product","OrderCard","img","subTitle","titleAdditional","monthMap","getMonthString","month","getStatusString","statusObject","CANCELED","CLOSED","IN_PROGRESS","PLACED","Profile","order","idx","reduce","getStatus","getDay","getMonth","Order","Content","exact","path","Category","useScrollPosition","scrollX","window","scrollY","scrollPosition","setScrollPosition","handleScroll","debounced","func","timeoutId","waitMilliseconds","promises","debouncedFunction","undefined","cancel","reason","debounce","addEventListener","removeEventListener","Fab","icon","UpButton","setIsVisible","isVisible","scrollTo","behavior","top","Letter","Footer","isSubscribed","getItem","subbed","setSubbed","href","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.21c2b420.chunk.js","sourcesContent":["import create, { State } from \"zustand\";\nimport cover from \"../img/book_cover_placeholder.png\";\n\nexport type Book = {\n  id: number;\n  title: string;\n  author: string;\n  cover: string;\n  price: number;\n  description: string;\n  category: Category;\n  reviews: number[];\n};\n\nexport type Category = {\n  id: number;\n  title: string;\n};\n\nexport enum Status {\n  PLACED,\n  IN_PROGRESS,\n  BEING_DELIVERED,\n  DELIVERED,\n  CLOSED,\n  CANCELED,\n}\n\nexport type Cart = {\n  content: {\n    book: Book;\n    amount: number;\n  }[];\n};\n\nexport type Order = {\n  content: Book[];\n  date: Date;\n  status: Status;\n};\n\nexport type User = {\n  id: number;\n  name: string;\n  email: string;\n  avatar: string;\n  cart: Cart;\n  orders: Order[];\n  reviews: Review[];\n  favourites: Book[];\n};\n\nexport type Review = {\n  id: number;\n  userId: number;\n  rating: number;\n  content: string;\n};\n\ntype useAuthStore = {\n  user: User | null;\n  setUser: (user: User | null) => void;\n};\n\n// Fake data\nexport const newCategory: Category = {\n  id: 1,\n  title: \"Новинки\",\n};\n\nexport const haloCategory: Category = {\n  id: 2,\n  title: \"Halo\",\n};\n\nexport const meCategory: Category = {\n  id: 3,\n  title: \"Mass Effect\",\n};\n\nconst reviews: Review[] = [\n  {\n    id: 1,\n    userId: 1,\n    content:\n      \"Точно не проплаченный отзыв на книгу от какого-нибудь рандома из интернетов\",\n    rating: 4,\n  },\n  {\n    id: 2,\n    userId: 2,\n    content:\n      \"Точно не проплаченный отзыв на книгу от какого-нибудь рандома из интернетов\",\n    rating: 3,\n  },\n];\n\nexport const books: Book[] = [];\nlet counter = 1;\n\nfor (let index = 0; index < 5; index++) {\n  books.push({\n    id: counter,\n    author: \"Автор книги\",\n    cover,\n    price: 3421,\n    title: \"Название книги\",\n    description: `Очень много всякой бесполезной информации о книге,\n      которую никто никогда не читает, потому что все говорят,\n      что судить книгу по обложке нельзя, но при этом покупают\n      книги только из-зза обложек или, иногда, авторов.`,\n    reviews: [2],\n    category: newCategory,\n  });\n  counter += 1;\n}\n\nfor (let index = 0; index < 7; index++) {\n  books.push({\n    id: counter,\n    author: \"Автор книги\",\n    cover,\n    price: 5423,\n    title: \"Название книги\",\n    description: `Очень много всякой бесполезной информации о книге,\n      которую никто никогда не читает, потому что все говорят,\n      что судить книгу по обложке нельзя, но при этом покупают\n      книги только из-зза обложек или, иногда, авторов.`,\n    reviews: [1, 2],\n    category: haloCategory,\n  });\n  counter += 1;\n}\n\nfor (let index = 0; index < 7; index++) {\n  books.push({\n    id: counter,\n    author: \"Автор книги\",\n    cover,\n    price: 1233,\n    title: \"Название книги\",\n    description: `Очень много всякой бесполезной информации о книге,\n      которую никто никогда не читает, потому что все говорят,\n      что судить книгу по обложке нельзя, но при этом покупают\n      книги только из-зза обложек или, иногда, авторов.`,\n    reviews: [],\n    category: meCategory,\n  });\n  counter += 1;\n}\n\nconst users: User[] = [\n  {\n    id: 2,\n    avatar:\n      \"https://sun9-75.userapi.com/impg/uzx-eTxFcXuMibL9Ifq4w0C3Wqk69GIBeIuRzQ/8G6Bu_OZeGY.jpg?size=941x1080&quality=96&sign=cf74479a82d41737dd44fd4beaf9f39f&type=album\",\n    cart: {\n      content: [],\n    },\n    email: \"bbruh@auwdwa\",\n    name: \"bruhawdaw\",\n    orders: [\n      {\n        content: [books[0]],\n        date: new Date(2021, 5, 30),\n        status: Status.BEING_DELIVERED,\n      },\n      {\n        content: [books[1], books[2]],\n        date: new Date(2021, 4, 30),\n        status: Status.DELIVERED,\n      },\n    ],\n    favourites: [],\n    reviews: [],\n  },\n];\n\ntype useBooksStore = {\n  books: Book[];\n};\n\ntype useReviewsStore = {\n  reviews: Review[];\n};\n\ntype useUsersStore = {\n  users: User[];\n};\n\ntype useCartStore = {\n  cart: Cart;\n  addItem: (book: Book, amount: number) => void;\n  editItem: (\n    id: number,\n    book: {\n      book: Book;\n      amount: number;\n    }\n  ) => void;\n  removeItem: (id: number) => void;\n};\n\nexport const useBooks = create<useBooksStore>(() => ({\n  books,\n}));\n\nexport const useAuth = create<useAuthStore>((set) => ({\n  user: null,\n  setUser: (user: User | null) => set(() => ({ user: user })),\n}));\n\nexport const useReviews = create<useReviewsStore>(() => ({\n  reviews,\n}));\n\nexport const useRecommendations = create((set) => ({\n  recommendations: {},\n}));\n\nexport const useUsers = create<useUsersStore>(() => ({\n  users,\n}));\n\nexport const useCart = create<useCartStore>((set) => ({\n  cart: {\n    content: [],\n  },\n  addItem: (book: Book, amount: number = 1) =>\n    set((state) => {\n      const existingBook = state.cart.content.find((v) => v.book === book);\n      if (existingBook) {\n        state.editItem(book.id, {\n          book,\n          amount: existingBook.amount + amount,\n        });\n        return {\n          cart: {\n            content: state.cart.content,\n          },\n        };\n      } else {\n        return {\n          cart: {\n            content: [\n              {\n                book,\n                amount: amount,\n              },\n              ...state.cart.content,\n            ],\n          },\n        };\n      }\n    }),\n  editItem: (\n    id: number,\n    value: {\n      book: Book;\n      amount: number;\n    }\n  ) =>\n    set((state) => {\n      const bookToEdit = state.cart.content.findIndex((v) => v.book.id === id);\n\n      return {\n        cart: {\n          content: [\n            ...state.cart.content.slice(0, bookToEdit),\n            {\n              book: value.book,\n              amount: value.amount,\n            },\n            ...state.cart.content.slice(\n              bookToEdit,\n              state.cart.content.length - 1\n            ),\n          ],\n        },\n      };\n    }),\n\n  removeItem: (id: number) =>\n    set((state) => ({\n      cart: {\n        content: [...state.cart.content.filter((v) => v.book.id !== id)],\n      },\n    })),\n}));\n","export default __webpack_public_path__ + \"static/media/logo_white.527fbf50.svg\";","export default __webpack_public_path__ + \"static/media/book_cover_placeholder.c2afa870.png\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nexport type Item = {\n  text: string;\n  url: string;\n};\n\ninterface Props {\n  title: String;\n  items: Item[];\n}\n\nconst MenuItem = ({ title, items }: Props) => {\n  return (\n    <>\n      <ul className=\"menu-item\">\n        <h3 className=\"menu-item__heading\">{title}</h3>\n        {items.map((link, index) => {\n          return (\n            <li className=\"menu-item__link\" key={index}>\n              <NavLink to={link.url}>{link.text}</NavLink>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default MenuItem;\n","import \"../blocks/catalog-menu.css\";\nimport { useEffect, useState } from \"react\";\nimport { useBooks } from \"../store/store\";\nimport MenuItem, { Item } from \"./MenuItem\";\n\ninterface Props {\n  open: boolean;\n  handleMenu: (open: boolean) => void;\n}\n\nconst CatalogMenu = ({ open, handleMenu }: Props) => {\n  const [isOpen, setIsOpen] = useState(open);\n\n  useEffect(() => {\n    setIsOpen(open);\n  }, [open]);\n\n  const categories = useBooks((state) => new Set(state.books.map(book => book.category)));\n\n  const menuSection = {\n    title: \"Популярные\",\n    items: Array.from(categories).map((category) => {\n      const item: Item = {\n        text: category.title,\n        url: `/category/${category.id}`,\n      };\n      return item;\n    }),\n  };\n\n  return (\n    <>\n      <nav\n        className={\n          isOpen\n            ? \"catalog-menu catalog-menu_opened\"\n            : \"catalog-menu catalog-menu_closed\"\n        }\n      >\n        <div className=\"catalog-menu__container\">\n          <button\n            className=\"btn catalog-menu__close\"\n            onClick={() => handleMenu(false)}\n          >\n            <span className=\"material-icons\">close</span>\n          </button>\n          <ul className=\"catalog-menu__list container\">\n            <MenuItem title={menuSection.title} items={menuSection.items} />\n          </ul>\n        </div>\n        <div\n          className=\"catalog-menu__overlay\"\n          onClick={() => handleMenu(false)}\n        ></div>\n      </nav>\n    </>\n  );\n};\n\nexport default CatalogMenu;\n","import { useState, useEffect, ReactNode } from \"react\";\n\nimport \"../blocks/popup.css\";\n\ninterface Props {\n  open: boolean;\n  handlePopup: (open: boolean) => void;\n  children: ReactNode;\n}\n\nfunction Popup({ open, handlePopup, children }: Props) {\n  const [isOpened, setIsOpened] = useState(open);\n\n  const _handlePopup = (value: boolean) => {\n    handlePopup(value);\n    setIsOpened(value);\n  };\n\n  useEffect(() => {\n    _handlePopup(open);\n  }, [open]);\n\n  return (\n    <div className={isOpened ? \"popup popup_opened\" : \"popup\"}>\n      <div className=\"popup__container\">\n        <div className=\"popup__body\">\n          <button\n            className=\"btn popup__close\"\n            onClick={() => _handlePopup(false)}\n          >\n            <span className=\"material-icons\">close</span>\n          </button>\n          {children}\n        </div>\n      </div>\n      <div className=\"popup__overlay\" onClick={() => _handlePopup(false)}></div>\n    </div>\n  );\n}\n\nexport default Popup;\n","import Content from \"../components/Content\";\nimport { User, Order, Book, Status, books } from \"../store/store\";\nimport { UserAuth } from \"../types/auth\";\n\nexport const STORAGE_KEY = \"actk\";\n\nexport const setAccessToken = (token: string) =>\n  localStorage.setItem(STORAGE_KEY, token);\nexport const getAccessToken = () => localStorage.getItem(STORAGE_KEY);\nexport const removeAccessToken = () => localStorage.removeItem(STORAGE_KEY);\n\nexport const signUp = async (user: UserAuth) => {\n  return new Promise<boolean>((resolve, reject) => {\n    setTimeout(() => {\n      resolve(true);\n    }, 1000);\n  });\n};\n\nexport const signIn = async (user: UserAuth) => {\n  return new Promise<User | null>((resolve, reject) => {\n    const fakeUser: User = {\n      id: 1,\n      avatar:\n        \"https://sun9-75.userapi.com/impg/uzx-eTxFcXuMibL9Ifq4w0C3Wqk69GIBeIuRzQ/8G6Bu_OZeGY.jpg?size=941x1080&quality=96&sign=cf74479a82d41737dd44fd4beaf9f39f&type=album\",\n      cart: {\n        content: [{ book: books[0], amount: 3 }],\n      },\n      email: user.email,\n      name: user.email,\n      orders: [\n        {\n          content: [books[0]],\n          date: new Date(\"06/02/2021\"),\n          status: Status.BEING_DELIVERED,\n        },\n        {\n          content: [books[1], books[2]],\n          date: new Date(\"03/25/2021\"),\n          status: Status.DELIVERED,\n        },\n      ],\n      favourites: [],\n      reviews: [],\n    };\n    setTimeout(() => {\n      setAccessToken(\"bruh moment\");\n      resolve(fakeUser);\n    }, 1000);\n  });\n};\n\nexport const signOut = async () => {\n  return new Promise<boolean>((resolve, reject) => {\n    setTimeout(() => {\n      removeAccessToken();\n      resolve(true);\n    }, 1000);\n  });\n};\n","import { ChangeEvent, FormEvent, useEffect, useRef, useState } from \"react\";\n\nimport \"../../blocks/form.css\";\n\nimport { signIn } from \"../../utils/Auth\";\nimport { useAuth, useCart } from \"../../store/store\";\n\ntype SignInForm = {\n  email: {\n    value: string;\n    valid: boolean;\n    validityMessage: string;\n  };\n  password: {\n    value: string;\n    valid: boolean;\n    validityMessage: string;\n  };\n};\n\ninterface Props {\n  handleSubmit: () => void;\n}\n\nfunction SignIn({ handleSubmit }: Props) {\n  const [formData, setFormData] = useState<SignInForm>({\n    email: {\n      value: \"\",\n      valid: false,\n      validityMessage: \"\",\n    },\n    password: {\n      value: \"\",\n      valid: false,\n      validityMessage: \"\",\n    },\n  });\n\n  const [isValid, setIsValid] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { setUser, user } = useAuth();\n  const { addItem } = useCart();\n\n  const handleSignInSubmit = (evt: FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n\n    setIsLoading(true);\n    signIn({\n      email: formData.email.value,\n      password: formData.password.value,\n    })\n      .then((res) => {\n        if (res) {\n          setUser({\n            id: 1,\n            email: res.email,\n            orders: res.orders,\n            avatar: res.avatar,\n            cart: res.cart,\n            name: res.name,\n            favourites: res.favourites,\n            reviews: res.reviews,\n          });\n          res.cart.content.forEach((v) => addItem(v.book, v.amount));\n\n          handleSubmit();\n          setIsLoading(false);\n        }\n      })\n      .catch((err) => console.log(err));\n\n    console.log(formData);\n  };\n\n  const handleFormChange = (evt: ChangeEvent<HTMLFormElement>) => {\n    setIsValid(formData.email.valid && formData.password.valid);\n  };\n\n  const handleInputChange = (evt: ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [evt.target.name]: {\n        value: evt.target.value,\n        valid: evt.target.validity.valid,\n        validityMessage: evt.target.validationMessage,\n      },\n    });\n  };\n\n  const emailRef = useRef<HTMLInputElement | null>(null);\n  const passwordRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setIsValid(\n        !!(\n          emailRef.current?.validity.valid &&\n          passwordRef.current?.validity.valid\n        )\n      );\n    }, 300);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  return (\n    <form\n      onSubmit={handleSignInSubmit}\n      onChange={handleFormChange}\n      className=\"form\"\n    >\n      <div className=\"form__container\">\n        <h3 className=\"form__title\">Войти в профиль</h3>\n        {/* TODO: Вынести инпут в компонент */}\n        <div className=\"form__field\">\n          <input\n            type=\"email\"\n            className=\"form__field-input\"\n            name=\"email\"\n            value={formData.email.value}\n            onChange={handleInputChange}\n            autoComplete=\"off\"\n            required\n            ref={emailRef}\n          />\n          <label\n            className={\n              formData.email.value\n                ? \"form__label form__label_raised\"\n                : \"form__label\"\n            }\n            htmlFor=\"email\"\n          >\n            Почта\n          </label>\n          <span className=\"form__field-bar\"></span>\n          <span\n            className=\"form__field-notice\"\n            title={formData.email.validityMessage}\n          >\n            {formData.email.validityMessage}\n          </span>\n        </div>\n        <div className=\"form__field\">\n          <input\n            type=\"password\"\n            className=\"form__field-input\"\n            name=\"password\"\n            value={formData.password.value}\n            onChange={handleInputChange}\n            autoComplete=\"off\"\n            required\n            ref={passwordRef}\n          />\n          <label\n            className={\n              formData.password.value\n                ? \"form__label form__label_raised\"\n                : \"form__label\"\n            }\n            htmlFor=\"password\"\n          >\n            Пароль\n          </label>\n          <span className=\"form__field-bar\"></span>\n          <span\n            className=\"form__field-notice\"\n            title={formData.password.validityMessage}\n          >\n            {formData.password.validityMessage}\n          </span>\n        </div>\n        <button\n          className={`\n            btn button__main\n            ${!isValid && \"button__main_disabled\"}\n            ${isLoading && \"loading\"}\n          `}\n          disabled={!isValid || isLoading}\n          type=\"submit\"\n        >\n          Войти\n        </button>\n      </div>\n    </form>\n  );\n}\n\nexport default SignIn;\n","import { useState, useEffect } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nimport \"../blocks/header.css\";\n\nimport LogoImage from \"../img/logo_white.svg\";\nimport CatalogMenu from \"./CatalogMenu\";\nimport Popup from \"./Popup\";\nimport SignIn from \"./Auth/SignIn\";\n\nimport { useAuth, useCart } from \"../store/store\";\n\nconst Header = () => {\n  const [isCatalogMenuOpened, setIsCatalogMenuOpened] = useState(false);\n  const [isSigninPopupOpened, setIsSigninPopupOpened] = useState(false);\n\n  const user = useAuth((state) => state.user);\n  const { cart } = useCart();\n\n  const onOpenChange = (value: boolean) => {\n    setIsCatalogMenuOpened(value);\n  };\n\n  const onSigninPopupChange = (value: boolean) => {\n    setIsSigninPopupOpened(value);\n  };\n\n  const location = useLocation();\n\n  useEffect(() => {\n    setIsCatalogMenuOpened(false);\n  }, [location]);\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__container container\">\n        <div className=\"header-part\">\n          <NavLink to=\"/\">\n            <img src={LogoImage} alt=\"Логотип Volu.\" className=\"header__logo\" />\n          </NavLink>\n          <button\n            className=\"btn header__menu\"\n            tabIndex={1}\n            onClick={() => onOpenChange(true)}\n          >\n            <span className=\"material-icons-two-tone header__menu-icon\">\n              menu\n            </span>\n            Каталог\n          </button>\n        </div>\n        <nav className=\"header-part\">\n          <NavLink\n            to=\"/order\"\n            className=\"btn header__nav-btn\"\n            activeClassName=\"header__nav-btn_active\"\n          >\n            <span className=\"material-icons\">local_shipping</span>\n          </NavLink>\n          <NavLink\n            to=\"/cart\"\n            className=\"btn header__nav-btn\"\n            activeClassName=\"header__nav-btn_active\"\n          >\n            <span className=\"material-icons\">shopping_cart</span>\n            {cart.content.length ? (\n              <span className=\"header__cart-counter\">\n                {cart.content.length}\n              </span>\n            ) : null}\n          </NavLink>\n\n          {user ? (\n            <NavLink\n              to=\"/profile\"\n              className=\"btn header__profile-btn\"\n              activeClassName=\"header__profile-btn_active\"\n              replace\n            >\n              <div\n                className=\"header__profile-img\"\n                style={{\n                  backgroundImage: `url('${user.avatar}')`,\n                }}\n              ></div>\n            </NavLink>\n          ) : (\n            <button\n              className=\"btn header__nav-btn\"\n              onClick={\n                location.pathname === \"/profile\"\n                  ? () => {}\n                  : () => onSigninPopupChange(true)\n              }\n            >\n              <span className=\"material-icons\">account_circle</span>\n            </button>\n          )}\n        </nav>\n      </div>\n      <CatalogMenu open={isCatalogMenuOpened} handleMenu={onOpenChange} />\n      <Popup open={isSigninPopupOpened} handlePopup={onSigninPopupChange}>\n        <SignIn\n          handleSubmit={() => {\n            onSigninPopupChange(false);\n          }}\n        />\n      </Popup>\n    </header>\n  );\n};\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/banner_large.9ebb847c.png\";","export default __webpack_public_path__ + \"static/media/banner.6d96d026.png\";","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAYAgMAAADxH4duAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURQAAAPn5/ff5/fj6/UUGZiYAAAADdFJOUwB/gL9pIscAAAAoSURBVHjaY2CgF2hAYj9AYv9gYOD/DwX/kNh/kdR8QWJfQGI70NzVAJaEFmYcRzFtAAAAAElFTkSuQmCC\"","import { NavLink } from \"react-router-dom\";\nimport { useBooks, useCart } from \"../store/store\";\n\ninterface Props {\n  id: Number;\n  title: String;\n  author: String;\n  price: number;\n  cover: string;\n}\n\nconst Card = ({ id, title, author, price, cover }: Props) => {\n  const { cart, addItem } = useCart();\n  const book = useBooks((state) => state.books.find((v) => v.id === id));\n\n  const handleCartAdd = () => {\n    if (book) {\n      addItem(book, 1);\n    }\n  };\n\n  return (\n    <>\n      <article className=\"product-card\">\n        <div className=\"product-card__body\">\n          <NavLink to={\"/book/\" + id}>\n            <img src={cover} alt=\"\" className=\"product-card__image\" />\n          </NavLink>\n          <div className=\"product-card__info\">\n            <h3 className=\"product-card__title\">{title}</h3>\n            <span className=\"product-card__author\">{author}</span>\n          </div>\n          <div className=\"product-card__footer\">\n            <button className=\"btn product-card__cart\" onClick={handleCartAdd}>\n              <span className=\"material-icons\">shopping_cart</span>\n            </button>\n            <button className=\"btn product-card__more\">\n              <span className=\"material-icons\">more_horiz</span>\n            </button>\n            <span className=\"product-card__price\">\n              {new Intl.NumberFormat(\"ru-RU\", {\n                style: \"currency\",\n                currency: \"RUB\",\n              }).format(price)}\n            </span>\n          </div>\n        </div>\n      </article>\n    </>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\n\nimport { NavLink } from \"react-router-dom\";\nimport Card from \"./Card\";\n\nimport { Book } from \"../store/store\";\n\ninterface Props {\n  id: Number;\n  title: String;\n  books: Book[];\n}\n\nconst Section = ({ id, title, books }: Props) => {\n  return (\n    <section className=\"products container\">\n      <h2 className=\"products__heading\">\n        <NavLink to={\"/category/\" + id} className=\"products__link\">\n          {title}\n          <span className=\"material-icons\">arrow_forward</span>\n        </NavLink>\n      </h2>\n      <ul className=\"products__list\">\n        {books.map((book, index) => (\n          <li className=\"products__list-item\" key={book.id}>\n            <Card\n              id={book.id}\n              title={book.title}\n              author={book.author}\n              price={book.price}\n              cover={book.cover}\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n};\n\nexport default Section;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport BannerLarge from \"../img/banner_large.png\";\nimport Banner from \"../img/banner.png\";\nimport Arrow from \"../img/arrow_icon.png\";\n\nimport Section from \"../components/Section\";\n\nimport { useBooks, meCategory, haloCategory } from \"../store/store\";\n\nfunction Main() {\n  const categories = useBooks((state) => new Set(state.books.map(book => book.category)));\n\n  return (\n    <>\n      <section className=\"promo container\">\n        <ul className=\"promo-banners\">\n          <li className=\"promo-banner promo-banner_large\">\n            <h1 className=\"promo__heading\">20 лет серии Halo</h1>\n            <NavLink\n              to={\"/category/\" + haloCategory.id}\n              className=\"promo__link\"\n            >\n              Каталог\n              <img src={Arrow} className=\"promo__link-icon\" alt=\"\" />\n            </NavLink>\n            <img src={BannerLarge} alt=\"\" className=\"promo-banner__img\" />\n          </li>\n          <li className=\"promo-banner\">\n            <h1 className=\"promo__heading\">Mass Effect возвращается</h1>\n            <NavLink\n              to={\"/category/\" + meCategory.id}\n              className=\"promo__link\"\n            >\n              Каталог\n              <img src={Arrow} className=\"promo__link-icon\" alt=\"\" />\n            </NavLink>\n            <img src={Banner} alt=\"\" className=\"promo-banner__img\" />\n          </li>\n          <li className=\"promo-banner\">\n            <h1 className=\"promo__heading\">Mass Effect возвращается</h1>\n            <NavLink\n              to={\"/category/\" + meCategory.id}\n              className=\"promo__link\"\n            >\n              Каталог\n              <img src={Arrow} className=\"promo__link-icon\" alt=\"\" />\n            </NavLink>\n            <img src={Banner} alt=\"\" className=\"promo-banner__img\" />\n          </li>\n        </ul>\n      </section>\n\n      {Array.from(categories).map((category) => {\n        const categoryBooks = useBooks((state) => state.books.filter(book => book.category.id === category.id))\n\n        return (<Section\n          key={category.id}\n          id={category.id}\n          title={category.title}\n          books={categoryBooks}\n        />)\n        })}\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react'\n\nfunction NotFound() {\n  return (\n    <div>\n      Fuck you\n    </div>\n  )\n}\n\nexport default NotFound\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Category, useBooks } from \"../store/store\";\n\nimport Section from \"../components/Section\";\nimport NotFound from \"../components/NotFound\";\n\nfunction CategoryComponent() {\n  let { id } = useParams<{ id: string }>();\n\n  const books = useBooks((state) => state.books.filter(v => v.category.id === parseInt(id)));\n\n  const bookSample = books[0]\n\n  return books ? (\n    <Section id={parseInt(id)} title={bookSample.category.title} books={books} />\n  ) : (\n    <NotFound />\n  );\n}\n\nexport default CategoryComponent;\n","import React from 'react'\n\ntype Props = {\n    rating: number\n}\n\nfunction Rating({rating}: Props ) {\n    return (\n        <div>\n            {rating}/5\n        </div>\n    )\n}\n\nexport default Rating\n","import { useReviews, useUsers } from \"../../store/store\"\nimport Rating from \"./Rating\"\n\ntype Props = {\n    id: number\n} \n\nfunction ReviewCard({ id }: Props) {\n    \n    const review = useReviews(state => state.reviews.filter(v => v.id === id))[0] \n    const user = useUsers(state => state.users.filter(v => v.id === review.userId))[0]\n\n    return (\n        <div className=\"review-card\">\n            <div className=\"review-card__header\">\n                <img src={user?.avatar} alt=\"\" className=\"review-card__user-avatar\" />\n                <div className=\"review-card__user\">\n                    <h4 className=\"review-card__user-name\">{user?.name ? user?.name : \"Аноним\"}</h4>\n                    <Rating rating={review.rating} />\n                </div>\n            </div>\n            <p className=\"review-card__body\">\n                {review.content}\n            </p>\n\n        </div>\n    )\n\n\n}\n\nexport default ReviewCard\n","import ReviewCard from \"../Book/ReviewCard\"\n\ntype Props = {\n    reviews: number[]\n}\n\nfunction Reviews({ reviews }: Props) {\n    return (\n        <section className=\"reviews\">\n            <div className=\"reviews__container\">\n                {reviews.length ?\n                    reviews.map(review => <ReviewCard key={review} id={review} />) : \n                    <div className=\"reviews__container_empty\">\n                        <span className=\"reviews__messsage\">\n                            На эту книгу еще нет отзывов :(\n                        </span>\n                    </div>\n                }\n            </div>\n        </section>\n    )\n}\n\nexport default Reviews\n","import { Book } from '../store/store'\n\ntype Props = {\n    title: string,\n    recommends: Book[] \n}\n\nfunction Recommends({title, recommends}: Props) {\n    return (\n        <div className=\"\">\n\n        </div>\n    )\n}\n\nexport default Recommends\n","import \"../blocks/book.css\";\n\nimport { NavLink, useParams } from \"react-router-dom\";\nimport { useBooks, useCart } from \"../store/store\";\n\nimport Reviews from \"../components/Book/Reviews\";\nimport Recommends from \"../components/Recommends\";\n\nfunction Book() {\n  const { id } = useParams<{ id: string }>();\n\n  const { addItem } = useCart();\n  const book = useBooks((state) =>\n    state.books.filter((book) => book.id === parseInt(id))\n  )[0];\n\n  const recommends = useBooks((state) =>\n    state.books.filter(\n      (v) => v.category.id === book.category.id && v.id !== book.id\n    )\n  );\n\n  const handleAddCart = () => {\n    addItem(book, 1);\n  };\n\n  return (\n    <section className=\"book-page container\">\n      <div className=\"book__container\">\n        <div className=\"book__image-container\">\n          <img src={book.cover} alt=\"\" className=\"book__image\" />\n        </div>\n        <div className=\"book__content\">\n          <h2 className=\"book__title\">{book.title}</h2>\n          <span className=\"book__author\">{book.author}</span>\n          <p className=\"book__description\">{book.description}</p>\n          <NavLink\n            to={\"/category/\" + book.category.id}\n            className=\"book__link book__link_more\"\n          >\n            <span className=\"book__link-text\">Больше по вселенной</span>\n            <span className=\"material-icons book__link-icon\">\n              arrow_forward\n            </span>\n          </NavLink>\n          <span className=\"book__price\">\n            {new Intl.NumberFormat(\"ru-RU\", {\n              style: \"currency\",\n              currency: \"RUB\",\n            }).format(book.price)}\n          </span>\n          <div className=\"book__actions\">\n            <button\n              className=\"btn book__cta book__cta_cart\"\n              onClick={handleAddCart}\n            >\n              <span className=\"book__cta-text\">В корзину</span>\n              <span className=\"material-icons book__cta-icon\">\n                shopping_cart\n              </span>\n            </button>\n            <button className=\"btn book__cta book__cta_fav\">\n              <span className=\"material-icons book__cta-icon\">\n                auto_awesome\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n      <Recommends title=\"Похожие\" recommends={recommends} />\n      <Reviews reviews={book.reviews} />\n    </section>\n  );\n}\n\nexport default Book;\n","import { Book } from \"../../store/store\";\n\ntype Props = {\n  book: Book;\n  amount: number;\n  onAmountChange: (\n    id: number,\n    value: {\n      book: Book;\n      amount: number;\n    }\n  ) => void;\n};\n\nfunction ProductCard({ book, amount, onAmountChange }: Props) {\n  return (\n    <div className=\"cart-card\">\n      <img src={book.cover} alt=\"\" className=\"cart-card__image\" />\n      <div className=\"cart-card__content\">\n        <div className=\"cart-card__content-inner\">\n          <h2 className=\"cart-card__title\">{book.title}</h2>\n          <span className=\"cart-card__author\">{book.author}</span>\n        </div>\n        <span className=\"cart-card__price\">\n          {new Intl.NumberFormat(\"ru-RU\", {\n            style: \"currency\",\n            currency: \"RUB\",\n          }).format(book.price * amount)}\n        </span>\n        <div className=\"cart-card__amount\">\n          <button\n            className=\"btn cart-card__btn\"\n            onClick={() =>\n              onAmountChange(book.id, { book, amount: amount - 1 })\n            }\n          >\n            <span className=\"material-icons cart-card__btn_icon\">remove</span>\n          </button>\n          <span className=\"cart-card__amount-value\">{amount}</span>\n          <button\n            className=\"btn cart-card__btn\"\n            onClick={() =>\n              onAmountChange(book.id, { book, amount: amount + 1 })\n            }\n          >\n            <span className=\"material-icons cart-card__btn_icon\">add</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductCard;\n","import { Book, useAuth, useCart } from \"../store/store\";\nimport \"../blocks/cart.css\";\n\nimport ProductCard from \"../components/Cart/ProductCard\";\n\nfunction Cart() {\n  const { cart, editItem, removeItem, addItem } = useCart();\n\n  const handleAmountChange = (\n    id: number,\n    value: {\n      book: Book;\n      amount: number;\n    }\n  ) => {\n    if (value.amount < 1) {\n      removeItem(id);\n    } else {\n      editItem(id, value);\n    }\n  };\n\n  return (\n    <section className=\"cart-page container\">\n      <h1 className=\"cart-page__title heading\">Корзина</h1>\n      <ul className=\"cart-page__content\">\n        {cart.content.map((product) => (\n          <ProductCard\n            onAmountChange={handleAmountChange}\n            amount={product.amount}\n            book={product.book}\n            key={product.book.id}\n          />\n        ))}\n      </ul>\n    </section>\n  );\n}\n\nexport default Cart;\n","import React from \"react\";\n\ntype Props = {\n  img: string;\n  title: string;\n  titleAdditional: string;\n  subTitle: string;\n  price: number;\n  amount: number;\n};\n\nfunction OrderCard({\n  img,\n  title,\n  subTitle,\n  price,\n  amount,\n  titleAdditional,\n}: Props) {\n  return (\n    <div className=\"order-card\">\n      <img src={img} alt=\"\" className=\"order-card__image\" />\n      <div className=\"order-card__content\">\n        <div className=\"order-card__content-part\">\n          <h2 className=\"order-card__title\">{title}</h2>\n          <span className=\"order-card__title-add\">{titleAdditional}</span>\n        </div>\n        <div className=\"order-card__content-part\">\n          <span className=\"order-card__subtitle\">{subTitle}</span>\n        </div>\n      </div>\n      <div className=\"order-card__content order-card__right\">\n        <span className=\"order-card__price\">\n          {new Intl.NumberFormat(\"ru-RU\", {\n            style: \"currency\",\n            currency: \"RUB\",\n          }).format(price)}\n        </span>\n        <span className=\"order-card__title-add\">{amount} шт.</span>\n      </div>\n    </div>\n  );\n}\n\nexport default OrderCard;\n","const monthMap = [\n  \"Январь\",\n  \"Ферваль\",\n  \"Март\",\n  \"Апрель\",\n  \"Май\",\n  \"Июнь\",\n  \"Июль\",\n  \"Август\",\n  \"Сентябрь\",\n  \"Октябрь\",\n  \"Ноябрь\",\n  \"Декабрь\",\n];\n\n/**\n * zero based array:\n * 0 - january\n * ...\n * 11 - december\n *\n */\nconst getMonthString = (month: number) => monthMap[month];\n\nexport default getMonthString;\n","import { Status } from \"../store/store\";\n\nexport default function getStatusString(status: Status) {\n  const statusObject = {\n    status: -1,\n    text: \"Неизвестный статус\",\n  };\n  switch (status) {\n    case Status.BEING_DELIVERED:\n      statusObject.status = Status.BEING_DELIVERED;\n      statusObject.text = \"Едет к вам\";\n      break;\n    case Status.CANCELED:\n      statusObject.status = Status.CANCELED;\n      statusObject.text = \"Заказ отменён\";\n      break;\n    case Status.CLOSED:\n      statusObject.status = Status.CLOSED;\n      statusObject.text = \"Закрыт\";\n      break;\n\n    case Status.DELIVERED:\n      statusObject.status = Status.DELIVERED;\n      statusObject.text = \"Доставлен\";\n      break;\n    case Status.IN_PROGRESS:\n      statusObject.status = Status.IN_PROGRESS;\n      statusObject.text = \"Обрабатывается\";\n      break;\n    case Status.PLACED:\n      statusObject.status = Status.PLACED;\n      statusObject.text = \"Ждёт обработки\";\n      break;\n    default:\n      break;\n  }\n\n  return statusObject;\n}\n","import \"../blocks/profile.css\";\n\nimport React from \"react\";\nimport SignIn from \"../components/Auth/SignIn\";\nimport OrderCard from \"../components/Order/OrderCard\";\nimport { Status, useAuth } from \"../store/store\";\nimport getMonth from \"../utils/Month\";\nimport getStatus from \"../utils/StatusString\";\n\nfunction Profile() {\n  const { user } = useAuth();\n\n  console.log(user?.orders);\n\n  return user ? (\n    <section className=\"container profile__page\">\n      <div className=\"profile__header\">\n        <h1 className=\"profile__title heading\">Профиль</h1>\n        <button className=\"btn profile__edit\">\n          <span className=\"material-icons\">edit</span>\n        </button>\n      </div>\n      <ul className=\"order__list\">\n        {Array.from(user.orders).map((order, idx) => (\n          <li className=\"order__item\" key={idx}>\n            <OrderCard\n              img={order.content[0].cover}\n              amount={order.content.length}\n              price={order.content.reduce((a, v) => (a += v.price), 0)}\n              subTitle={getStatus(order.status).text}\n              title={\n                order.status === Status.DELIVERED\n                  ? `${order.date.getDay()} ${getMonth(order.date.getMonth())}`\n                  : \"Активный заказ\"\n              }\n              titleAdditional={\n                order.status === Status.DELIVERED\n                  ? \"\"\n                  : `${order.date.getDay()} ${getMonth(order.date.getMonth())}`\n              }\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  ) : (\n    <section className=\"container\">\n      <SignIn handleSubmit={() => {}} />\n    </section>\n  );\n}\n\nexport default Profile;\n","import \"../blocks/order.css\";\n\nimport React from \"react\";\n\nfunction Order() {\n  return <div>Order</div>;\n}\n\nexport default Order;\n","import \"../blocks/content.css\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport Main from \"../pages/Main\";\nimport Category from \"../pages/Category\";\nimport Book from \"../pages/Book\";\nimport Cart from \"../pages/Cart\";\nimport Profile from \"../pages/Profile\";\nimport Order from \"../pages/Order\";\n\nconst Content = () => {\n  return (\n    <main className=\"main\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Main />\n        </Route>\n        <Route path=\"/order\">\n          <Order />\n        </Route>\n        <Route path=\"/cart\">\n          <Cart />\n        </Route>\n        <Route path=\"/profile\">\n          <Profile />\n        </Route>\n        <Route path=\"/category/:id\">\n          <Category />\n        </Route>\n        <Route path=\"/book/:id\">\n          <Book />\n        </Route>\n      </Switch>\n    </main>\n  );\n};\n\nexport default Content;\n","import { useState, useEffect } from \"react\";\nimport { debounce } from \"../Debounce\";\n\ninterface ScrollPosition {\n  scrollX: number;\n  scrollY: number;\n}\n\nconst useScrollPosition = () => {\n  const [scrollPosition, setScrollPosition] = useState<ScrollPosition>({\n    scrollX: window.scrollX,\n    scrollY: window.scrollY,\n  });\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrollPosition({\n        scrollX: window.scrollX,\n        scrollY: window.scrollY,\n      });\n    };\n\n    const debounced = debounce(handleScroll, 200);\n\n    window.addEventListener(\"scroll\", debounced);\n\n    handleScroll();\n\n    return () => {\n      debounced.cancel();\n      window.removeEventListener(\"resize\", debounced);\n    };\n  }, []);\n\n  return scrollPosition;\n};\n\nexport default useScrollPosition;\n","export function debounce(func: Function, waitMilliseconds = 50) {\n  let timeoutId: number;\n\n  let promises: {\n    resolve: (x: Function) => void;\n    reject: (reason?: any) => void;\n  }[] = [];\n\n  const debouncedFunction = function (\n    this: ThisParameterType<Function>,\n    ...args: any\n  ) {\n    const context = this;\n    return new Promise((resolve, reject) => {\n      if (timeoutId !== undefined) {\n        clearTimeout(timeoutId);\n      }\n\n      timeoutId = setTimeout(func, waitMilliseconds);\n\n      promises.push({ resolve, reject });\n    });\n  };\n\n  debouncedFunction.cancel = function (reason?: any) {\n    if (timeoutId !== undefined) {\n      clearTimeout(timeoutId);\n    }\n    // console.log(promises);\n\n    promises.forEach(({ reject }) => reject(reason));\n    promises = [];\n  };\n\n  return debouncedFunction;\n}\n","import { ButtonHTMLAttributes, DetailedHTMLProps } from \"react\";\nimport \"../blocks/fab.css\";\n\ntype Props = {\n  icon: string;\n} & DetailedHTMLProps<\n  ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n>;\n\nfunction Fab({ icon, onClick, className }: Props) {\n  return (\n    <button className={`btn fab ${className}`} onClick={onClick}>\n      <span className=\"material-icons\">{icon}</span>\n    </button>\n  );\n}\n\nexport default Fab;\n","import { useEffect, useState } from \"react\";\nimport useScrollPosition from \"../utils/hooks/useScrollPosition\";\nimport Fab from \"./Fab\";\n\nfunction UpButton() {\n  const REQUIRED_SCROLL = 700;\n  const scrollPosition = useScrollPosition();\n\n  useEffect(() => {\n    // console.log(scrollPosition);\n\n    setIsVisible(scrollPosition.scrollY > REQUIRED_SCROLL);\n  }, [scrollPosition]);\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  const handleUpButton = () => {\n    window.scrollTo({ behavior: \"smooth\", top: 0 });\n  };\n\n  return (\n    <Fab\n      icon=\"expand_less\"\n      className={`${isVisible ? \"\" : \"fab_hidden\"}`}\n      onClick={handleUpButton}\n    />\n  );\n}\n\nexport default UpButton;\n","import \"../blocks/letter.css\";\n\nimport React, {\n  ChangeEvent,\n  FormEvent,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\n\nexport default function Letter({\n  handleSubmit,\n}: {\n  handleSubmit: (v: boolean) => void;\n}) {\n  const [formData, setFormData] = useState({\n    email: {\n      value: \"\",\n      valid: false,\n      validityMessage: \"\",\n    },\n  });\n\n  const [isValid, setIsValid] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubscirbe = (evt: FormEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    setIsLoading(true);\n    setTimeout(() => {\n      localStorage.setItem(\"subbed\", \"true\");\n      handleSubmit(true);\n      setIsLoading(false);\n    }, 1000);\n  };\n\n  const handleFormChange = (evt: ChangeEvent<HTMLFormElement>) => {\n    setIsValid(formData.email.valid);\n  };\n\n  const handleInputChange = (evt: ChangeEvent<HTMLInputElement>) => {\n    setFormData({\n      ...formData,\n      [evt.target.name]: {\n        value: evt.target.value,\n        valid: evt.target.validity.valid,\n        validityMessage: evt.target.validationMessage,\n      },\n    });\n  };\n\n  const emailRef = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setIsValid(!!emailRef.current?.validity.valid);\n    }, 300);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  return (\n    <form\n      onSubmit={handleSubscirbe}\n      onChange={handleFormChange}\n      className=\"form letter\"\n    >\n      <div className=\"form__container\">\n        <h3 className=\"form__title\">Подписаться на рассылку</h3>\n        {/* TODO: Вынести инпут в компонент */}\n        <div className=\"form__field\">\n          <input\n            type=\"email\"\n            className=\"form__field-input\"\n            name=\"email\"\n            value={formData.email.value}\n            onChange={handleInputChange}\n            autoComplete=\"off\"\n            required\n            ref={emailRef}\n          />\n          <label\n            className={\n              formData.email.value\n                ? \"form__label form__label_raised\"\n                : \"form__label\"\n            }\n            htmlFor=\"email\"\n          >\n            Почта\n          </label>\n          <span className=\"form__field-bar\"></span>\n          <span\n            className=\"form__field-notice\"\n            title={formData.email.validityMessage}\n          >\n            {formData.email.validityMessage}\n          </span>\n        </div>\n\n        <button\n          className={`\n            btn button__main\n            ${!isValid && \"button__main_disabled\"}\n            ${isLoading && \"loading\"}\n          `}\n          disabled={!isValid || isLoading}\n          type=\"submit\"\n        >\n          Подписаться\n        </button>\n      </div>\n    </form>\n  );\n}\n","import \"../blocks/footer.css\";\n\nimport React, { useState } from \"react\";\nimport Letter from \"./Letter\";\n\nfunction Footer() {\n  const isSubscribed = () => !!localStorage.getItem(\"subbed\");\n  const [subbed, setSubbed] = useState(isSubscribed());\n\n  const handleSubmit = (v: boolean) => {\n    setSubbed(v);\n  };\n\n  return (\n    <footer className=\"footer \">\n      <div className=\"footer__container container\">\n        <div className=\"footer__info\">\n          <a href=\"https://github.com/weeks6\" className=\"copyright\">\n            © 2021 Igor Ilin{\" \"}\n          </a>\n          <div className=\"footer__message\">\n            <span>Проект для колледжа.</span>\n            <span>\n              Я знаю что реальный e com не рендериться на клиенте, потому что\n              SEO\n            </span>\n            <span>Don't @ me</span>\n          </div>\n        </div>\n        {isSubscribed() && subbed ? null : (\n          <Letter handleSubmit={handleSubmit} />\n        )}\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import \"./styles.css\";\nimport \"./blocks/button.css\";\nimport \"./blocks/loading.css\";\nimport { HashRouter as Router } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Content from \"./components/Content\";\nimport UpButton from \"./components/UpButton\";\nimport Footer from \"./components/Footer\";\n\nexport default function App() {\n  return (\n    <div className=\"app-container\">\n      <Router>\n        <Header />\n        <Content />\n        <UpButton />\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}